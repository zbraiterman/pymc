
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ODE &#8212; PyMC3 3.10.0 documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/semantic-sphinx.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/default.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <script src="../_static/highlight.min.js"></script>
    <script src="../_static/semantic.min.js"></script>
    <link rel="shortcut icon" href="../_static/PyMC3.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
<script>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-176578023-1']);
  _gaq.push(['_trackPageview']);
</script>
<script>hljs.initHighlightingOnLoad();</script>
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">



  </head><body>
<div class="ui vertical center aligned">

    <div class="ui container">
        <div class="ui large secondary pointing menu">
            <a class="item" href="/">
                <img class="ui bottom aligned tiny image" src="https://cdn.rawgit.com/pymc-devs/pymc3/master/docs/logos/svg/PyMC3_banner.svg" />
            </a>
             <a href="../nb_tutorials/index.html" class="item">Tutorials</a> <a href="../nb_examples/index.html" class="item">Examples</a> <a href="../learn.html" class="item">Books + Videos</a> <a href="../api.html" class="item">API</a> <a href="../developer_guide.html" class="item">Developer Guide</a> <a href="../about.html" class="item">About PyMC3</a>
            
            <div class="right menu">
                <div class="item">
                    <form class="ui icon input" action="../search.html" method="get">
                        <input type="text" placeholder="Search..." name="q" />
                        <i class="search link icon"></i>
                    </form>
                </div>
                <a class="item" href="https://github.com/pymc-devs/pymc3"><i class="github blue icon large"></i></a>
            </div>
        </div>
    </div>
    
</div>

<div class="ui container" role="main">
    

    <div class="ui vertical segment">
        
  <div class="section" id="ode">
<h1>ODE<a class="headerlink" href="#ode" title="Permalink to this headline">¶</a></h1>
<p>This submodule contains tools used to perform inference on ordinary differential equations.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
</tbody>
</table>
<span class="target" id="module-pymc3.ode"></span><dl class="py class">
<dt id="pymc3.ode.DifferentialEquation">
<em class="property">class </em><code class="sig-prename descclassname">pymc3.ode.</code><code class="sig-name descname">DifferentialEquation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em>, <em class="sig-param"><span class="n">times</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">n_states</span></em>, <em class="sig-param"><span class="n">n_theta</span></em>, <em class="sig-param"><span class="n">t0</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pymc3.ode.DifferentialEquation" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify an ordinary differential equation</p>
<div class="math notranslate nohighlight">
\[\dfrac{dy}{dt} = f(y,t,p) \quad y(t_0) = y_0\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>func</strong><span class="classifier">callable</span></dt><dd><p>Function specifying the differential equation. Must take arguments y (n_states,), t (scalar), p (n_theta,)</p>
</dd>
<dt><strong>times</strong><span class="classifier">array</span></dt><dd><p>Array of times at which to evaluate the solution of the differential equation.</p>
</dd>
<dt><strong>n_states</strong><span class="classifier">int</span></dt><dd><p>Dimension of the differential equation.  For scalar differential equations, n_states=1.
For vector valued differential equations, n_states = number of differential equations in the system.</p>
</dd>
<dt><strong>n_theta</strong><span class="classifier">int</span></dt><dd><p>Number of parameters in the differential equation.</p>
</dd>
<dt><strong>t0</strong><span class="classifier">float</span></dt><dd><p>Time corresponding to the initial condition</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">odefunc</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
    <span class="c1">#Logistic differential equation</span>
    <span class="k">return</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="n">times</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>

<span class="n">ode_model</span> <span class="o">=</span> <span class="n">DifferentialEquation</span><span class="p">(</span><span class="n">func</span><span class="o">=</span><span class="n">odefunc</span><span class="p">,</span> <span class="n">times</span><span class="o">=</span><span class="n">times</span><span class="p">,</span> <span class="n">n_states</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_theta</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">t0</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt id="pymc3.ode.DifferentialEquation.grad">
<code class="sig-name descname">grad</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inputs</span></em>, <em class="sig-param"><span class="n">output_grads</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pymc3.ode.DifferentialEquation.grad" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a graph for the gradient with respect to each input variable.</p>
<p>Each returned <cite>Variable</cite> represents the gradient with respect to that
input computed based on the symbolic gradients with respect to each
output. If the output is not differentiable with respect to an input,
then this method should return an instance of type <cite>NullType</cite> for that
input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>inputs</strong><span class="classifier">list of Variable</span></dt><dd><p>The input variables.</p>
</dd>
<dt><strong>output_grads</strong><span class="classifier">list of Variable</span></dt><dd><p>The gradients of the output variables.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>grads</strong><span class="classifier">list of Variable</span></dt><dd><p>The gradients with respect to each <cite>Variable</cite> in <cite>inputs</cite>.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pymc3.ode.DifferentialEquation.make_node">
<code class="sig-name descname">make_node</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">y0</span></em>, <em class="sig-param"><span class="n">theta</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pymc3.ode.DifferentialEquation.make_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a “apply” nodes for the inputs in that order.</p>
</dd></dl>

<dl class="py method">
<dt id="pymc3.ode.DifferentialEquation.perform">
<code class="sig-name descname">perform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node</span></em>, <em class="sig-param"><span class="n">inputs_storage</span></em>, <em class="sig-param"><span class="n">output_storage</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pymc3.ode.DifferentialEquation.perform" title="Permalink to this definition">¶</a></dt>
<dd><p>Required: Calculate the function on the inputs and put the variables in
the output storage. Return None.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>node</strong><span class="classifier">Apply</span></dt><dd><p>The symbolic <cite>Apply</cite> node that represents this computation.</p>
</dd>
<dt><strong>inputs</strong><span class="classifier">Sequence</span></dt><dd><p>Immutable sequence of non-symbolic/numeric inputs.  These
are the values of each <cite>Variable</cite> in <cite>node.inputs</cite>.</p>
</dd>
<dt><strong>output_storage</strong><span class="classifier">list of list</span></dt><dd><p>List of mutable single-element lists (do not change the length of
these lists).  Each sub-list corresponds to value of each
<cite>Variable</cite> in <cite>node.outputs</cite>.  The primary purpose of this method
is to set the values of these sub-lists.</p>
</dd>
<dt><strong>params</strong><span class="classifier">tuple</span></dt><dd><p>A tuple containing the values of each entry in <cite>__props__</cite>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><dl class="simple">
<dt>MethodNotDefined</dt><dd><p>The subclass does not override this method.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The <cite>output_storage</cite> list might contain data. If an element of
output_storage is not <cite>None</cite>, it has to be of the right type, for
instance, for a <cite>TensorVariable</cite>, it has to be a NumPy <cite>ndarray</cite>
with the right number of dimensions and the correct dtype.
Its shape and stride pattern can be arbitrary. It is not
guaranteed that such pre-set values were produced by a previous call to
this <cite>PureOp.perform</cite>; they could’ve been allocated by another
<cite>PureOp</cite>’s <cite>perform</cite> method.
A <cite>PureOp</cite> is free to reuse <cite>output_storage</cite> as it sees fit, or to
discard it and allocate new memory.</p>
</dd></dl>

</dd></dl>

</div>


    </div>
</div>
<div class="ui vertical footer segment">
    <div class="ui center aligned container">
        <a href="https://github.com/pymc-devs/pymc3"><i class="github icon large"></i></a>
        <a href="https://twitter.com/pymc_devs"><i class="twitter icon large"></i></a>
        <a href="https://discourse.pymc.io/"><i class="discourse icon large"></i></a>
    </div>
    <div class="ui center aligned container">This page uses <a href="https://analytics.google.com/">
    Google Analytics</a> to collect statistics. You can disable it by blocking
    the JavaScript coming from www.google-analytics.com.
    <script>
      (function() {
        var ga = document.createElement('script');
        ga.src = ('https:' == document.location.protocol ?
                  'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        ga.setAttribute('async', 'true');
        document.documentElement.firstChild.appendChild(ga);
      })();
    </script>
    </div>
    <div class="ui center aligned container">
        <p>
            &copy; Copyright 2018, The PyMC Development Team.
        </p>
        <p>
            Created using <a href="https://sphinx-doc.org/">Sphinx</a> 3.4.0.<br />
        </p>
    </div>
</div>
  </body>
</html>